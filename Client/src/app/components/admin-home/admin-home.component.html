<h2 class="title">Filtros</h2>
<hr class="divider" />
<section class="filter">
    <article>
        <label>Hotel</label>
        <select [(ngModel)]="currentHotel" (change)="onChangeHotel()">
            <option [value]="''">[SELECCIONAR]</option>
            <option *ngFor="let h of hotels" [ngValue]="h.id">{{ h.description }}</option>
        </select>
    </article>
    <article>
        <label>&nbsp;</label>
        <button class="btn info" type="button" (click)="addHomeMenu()">Agregar</button>
    </article>
</section>
<h2 class="title">Administrar Home Menú</h2>
<hr class="divider" />
<section class="table-container">
    <table class="mytable">
        <thead>
            <tr>
                <th>Id</th>
                <th>Orden</th>
                <th>Descripción</th>
                <th>Mitad</th>
                <th>Activo</th>
                <th>Edit</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngIf="items.length == 0">
                <td colspan="6">No se encontraron resultados.</td>
            </tr>
            <tr *ngFor="let x of items; index as i">
                <td class="right">
                    <label>{{ x.id }}</label>
                </td>
                <td class="right">
                    <label>{{ x.orderNo }}</label>
                </td>
                <td>
                    <label>{{ x.description }}</label>
                </td>
                <td class="center">
                    <label>{{ x.isHalf ? "SÍ" : "NO" }}</label>
                </td>
                <td class="center">
                    <label>{{ x.active ? "SÍ" : "NO" }}</label>
                </td>
                <td>
                    <button type="button" (click)="editHomeMenu(x)" class="btn info edit">
                        <fa-icon [icon]="editIcon"></fa-icon>
                    </button>
                </td>
            </tr>
        </tbody>
    </table>
</section>

<app-modal #modalForm showFooter="true" width="30rem">
    <div class="inmodal" mheader>
        <h4>Home Menu</h4>
    </div>
    <div class="inmodal" mbody>
        <div class="form">
            <label>Hotel</label>
            <select class="input" [(ngModel)]="form.hotelCode.value" [disabled]="currentItem != null">
                <option [value]="''">[SELECCIONAR]</option>
                <option *ngFor="let h of hotels" [ngValue]="h.id">{{ h.description }}</option>
            </select>
            <label>Funcionalidad</label>
            <select class="input" [(ngModel)]="form.linkUrl.value" [disabled]="currentItem != null">
                <option [value]="''">[SELECCIONAR]</option>
                <option *ngFor="let x of links" [ngValue]="x.id">{{ x.label }}</option>
            </select>
            <label>Descripción</label>
            <input class="input" [(ngModel)]="form.description.value" type="text" />
            <label>Título</label>
            <input class="input" [(ngModel)]="form.title.value" type="text" />
            <ng-container *ngIf="form.linkUrl.value == 'link'">
                <label>Link</label>
                <input class="input" [(ngModel)]="form.link.value" type="text" />
            </ng-container>
            <ng-container *ngIf="form.linkUrl.value == 'informative'">
                <label>Página informativa</label>
                <select class="input" [(ngModel)]="form.idInfoPage.value">
                    <option [value]="0">[SELECCIONAR]</option>
                    <option *ngFor="let x of infos" [ngValue]="x.id">{{ x.name }}</option>
                </select>
            </ng-container>
            <label>Orden</label>
            <input class="input" [(ngModel)]="form.orderNo.value" type="number" />
            <label>Activo</label>
            <app-switch [checked]="form.active.value" (change)="form.active.value = $event.target.checked"></app-switch>
            <ng-container *ngIf="form.linkUrl.value != 'slider'">
                <label>Mitad</label>
                <app-switch [checked]="form.isHalf.value" (change)="form.isHalf.value = $event.target.checked">
                </app-switch>
                <label>Imagen:</label>
                <div>
                    <app-uploader [(myfile)]="form.image64.value" [(name)]="form.filename.value"></app-uploader>
                    <img *ngIf="form.imageUrl.value?.length > 0" [src]="form.imageUrl.value" class="imageview"
                        alt="image" />
                </div>
            </ng-container>
        </div>
    </div>
    <div class="inmodal" class="evenly" mfooter>
        <div class="btn neutral" (click)="modalForm.close()">Cancelar</div>
        <div class="btn success" (click)="saveHomeMenu()">{{ currentItem ? 'Actualizar' : 'Guardar' }}</div>
    </div>
</app-modal>